var TimeTravel=(()=>{var r=Object.defineProperty,u=Object.defineProperties,w=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var a=(s,e,t)=>e in s?r(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,g=(s,e)=>{for(var t in e||(e={}))d.call(e,t)&&a(s,t,e[t]);if(c)for(var t of c(e))p.call(e,t)&&a(s,t,e[t]);return s},v=(s,e)=>u(s,h(e));var k=(s,e)=>{for(var t in e)r(s,t,{get:e[t],enumerable:!0})},A=(s,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of m(e))!d.call(s,o)&&o!==t&&r(s,o,{get:()=>e[o],enumerable:!(i=w(e,o))||i.enumerable});return s};var S=s=>A(r({},"__esModule",{value:!0}),s);var E={};k(E,{TimeTravel:()=>l});var l=class{constructor(e){let t=document.querySelector("div[data-phx-main]").getAttribute("id"),i=new e("/socket");i.connect();let o=i.channel("lvdbg:"+t);o.join().receive("ok",({messages:n})=>console.log("catching up",n)).receive("error",({reason:n})=>console.log("failed join",n)).receive("timeout",()=>console.log("Networking issue. Still waiting...")),o.on("SaveAssigns",n=>{console.log("SaveAssigns",n),window.dispatchEvent(new CustomEvent("SaveAssigns",{detail:n}))}),window.addEventListener("RestoreAssigns",n=>{console.log("restore",n.detail),o.push("restore-assigns",v(g({},n.detail),{socketId:t}))}),window.addEventListener("ClearAssigns",n=>{o.push("clear-assigns",{})})}};return S(E);})();
